<!doctype html>



  


<html class="theme-next pisces use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />





  <link rel="alternate" href="/atom.xml" title="HappyCoding:)" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/uploads/avatar.png?v=5.0.1" />






<meta name="description" content="思维世界的发展，在某种意义上说，就是对惊奇的不断摆脱。">
<meta property="og:type" content="website">
<meta property="og:title" content="HappyCoding:)">
<meta property="og:url" content="dabing1022.github.io/page/2/index.html">
<meta property="og:site_name" content="HappyCoding:)">
<meta property="og:description" content="思维世界的发展，在某种意义上说，就是对惊奇的不断摆脱。">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="HappyCoding:)">
<meta name="twitter:description" content="思维世界的发展，在某种意义上说，就是对惊奇的不断摆脱。">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: "post",
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>




  <link rel="canonical" href="dabing1022.github.io/page/2/"/>

  <title> HappyCoding:) </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  

  <div class="container one-collumn  
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">HappyCoding:)</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">思维世界的发展，在某种意义上说，就是对惊奇的不断摆脱。</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-commonweal">
          <a href="/404.html" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br />
            
            公益404
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/04/17/近况/" itemprop="url">
                  近况
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-04-17T22:04:33+08:00" content="Apr 17 2015">
              Apr 17 2015
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/life/" itemprop="url" rel="index">
                    <span itemprop="name">life</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2015/04/17/近况/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2015/04/17/近况/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>从上海创业做游戏、IOS产品《心城》到离开来到北京已经有半个多月了。</p>
<p>两年多后再次回到北京，刚来的那几天，眼睛酸疼的想流眼泪，污浊的空气让我嗓子干燥的难受。北京的空气更差了，要不是考虑女朋友，也许我还是更愿意待在上海发展或者回到西安。</p>
<p>既来之，则安之吧。</p>
<p>跑了一周多快两周的工作，也收到了一些offer，考虑了下我选择了嘀嗒拼车。这家公司的现状可能会更加的对我胃口。</p>
<p>入职后，老大给了我几天的时间阅读了源代码，同事都很nice，抽了时间，对项目的目录，架构做了一些简介。之后，结合真机流程测试，大概对整体和核心的部分有了一些认识。</p>
<p>从干程序以来，游戏，应用，因为公司也不大，一直都是一个人在单打独斗负责前端。这次头次和同事一起开发，心里不禁有一丝喜悦和兴奋。</p>
<p>多人协作开发会涉及到版本的管理，公司采用了svn来进行版本控制。用惯了git，对svn不太熟悉，现阶段遵循公司的方式，我想如果将来可能的话，建议公司切换到git。</p>
<p>项目由不同的同事开发，其中的代码风格也不尽相同。阅读项目时，也发现了一些味道比较坏的代码。我想将来有时间的话，应该和同事将部分部分代码进行重构，最重要的是将不合理的架构和类进行修改，提高阅读性，否则后续开发我想会越来越乱。关于对代码的重构，后面有时间的话很想和大家做个探讨。</p>
<p>随笔到这先。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/02/10/回家前对心城的絮絮叨叨/" itemprop="url">
                  回家前对心城的絮絮叨叨
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-02-10T09:12:37+08:00" content="Feb 10 2015">
              Feb 10 2015
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/创业/" itemprop="url" rel="index">
                    <span itemprop="name">创业</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2015/02/10/回家前对心城的絮絮叨叨/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2015/02/10/回家前对心城的絮絮叨叨/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>票不好买，我买了今天回家的票。下午5点多的汽车，明天到郑州。</p>
<p>坐在电脑前，回想从我们两人（另外一人，一哥是负责产品），从开始做心城，磕磕碰碰，一路走到现在，对自己坚持的毅力也感到吃惊。</p>
<p>整个程序我一个人写，从一个从游戏开发转应用开发的“新手”而言，刚开始对应用开发，完全摸不到节奏。节奏太重要了。</p>
<p>怎么去寻找节奏？感谢R网站，跟着教程，我试着去理清ios应用开发的一些知识脉络。时间不等人。一边学习，一边开发，遇到问题，不断调试，查阅苹果文档，google和stackoverflow已经成了我解决问题离不开的渠道。知识面的不足，可以通过学习来弥补。但经验的不足，些许可以从旁人中吸取，但自己摔过的跟头，才会永远透彻的记得。审核时犯的错，容不得犯第二次。</p>
<p>迭代了4个版本，也是近半年的开发成果，上周六通过了1.4.0版本，但存在一个bug，用户的数据没能正确显示出来，这是致命的。我不得不说，这次的跟头跌的太大了，完全是我的疏忽，提交前没有对升级进行严格测试。<br>
          <div class="post-more-link text-center">
            <a class="btn" href="/2015/02/10/回家前对心城的絮絮叨叨/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/02/04/TheNatureOfCode读书笔记01/" itemprop="url">
                  TheNatureOfCode读书笔记01
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-02-04T10:29:12+08:00" content="Feb 4 2015">
              Feb 4 2015
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/TheNatureOfCode/" itemprop="url" rel="index">
                    <span itemprop="name">TheNatureOfCode</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2015/02/04/TheNatureOfCode读书笔记01/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2015/02/04/TheNatureOfCode读书笔记01/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          The Nature of Code 读书笔记01
          <div class="post-more-link text-center">
            <a class="btn" href="/2015/02/04/TheNatureOfCode读书笔记01/">
              阅读全文 &raquo;
            </a>
          </div>
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/02/03/新版本提交以及一些想法记录/" itemprop="url">
                  新版本提交以及一些想法记录
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-02-03T10:15:55+08:00" content="Feb 3 2015">
              Feb 3 2015
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/创业/" itemprop="url" rel="index">
                    <span itemprop="name">创业</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2015/02/03/新版本提交以及一些想法记录/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2015/02/03/新版本提交以及一些想法记录/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          新版本提交以及一些想法记录
          <div class="post-more-link text-center">
            <a class="btn" href="/2015/02/03/新版本提交以及一些想法记录/">
              阅读全文 &raquo;
            </a>
          </div>
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/01/12/preparetorecord-simulators-crashes-solutions/" itemprop="url">
                  ios音频录制"prepareToRecord"模拟器崩溃解决办法
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-01-12T07:53:00+08:00" content="Jan 12 2015">
              Jan 12 2015
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/ios/" itemprop="url" rel="index">
                    <span itemprop="name">ios</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2015/01/12/preparetorecord-simulators-crashes-solutions/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2015/01/12/preparetorecord-simulators-crashes-solutions/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="问题描述">问题描述</h2><p>在心城的开发过程中，在处理音频部分时，有这么段代码</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NSError* error;&#10;self.audioRecorder = [[AVAudioRecorder alloc] initWithURL:[self getTempAudioPath] settings:settingDic error:&#38;error];;&#10;//...&#10;if ([self.audioRecorder prepareToRecord]) &#123;&#10;&#9;[self.audioRecorder record];&#10;&#125;</span><br></pre></td></tr></table></figure>
<p>在模拟器上崩溃，始终停在了<code>prepareToRecord</code>这一行，但真机测试没问题。怀疑是模拟器的bug。<br><a href="http://stackoverflow.com/questions/10719758/preparetorecord-crashing" target="_blank" rel="external">Stackoverflow问题讨论</a></p>
<h2 id="解决办法（不是办法的办法）">解决办法（不是办法的办法）</h2><p>在测试音频录制功能时，先暂时禁用掉Xcode的全局断点功能。之后，恢复正常开启全局断点。（默认快捷键：Command+Y）</p>
<p>原文链接：<a href="https://github.com/dabing1022/Blog/issues/5" target="_blank" rel="external">https://github.com/dabing1022/Blog/issues/5</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/01/02/how-to-implement-chained-in-objective-c-syntax/" itemprop="url">
                  如何在Objective-C中实现链式语法？
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-01-02T10:54:00+08:00" content="Jan 2 2015">
              Jan 2 2015
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Objective-C/" itemprop="url" rel="index">
                    <span itemprop="name">Objective-C</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2015/01/02/how-to-implement-chained-in-objective-c-syntax/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2015/01/02/how-to-implement-chained-in-objective-c-syntax/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>在接触到开源项目 <a href="https://github.com/Masonry/Masonry">Masonry</a> 后，里面的布局约束的链式写法让我颇感兴趣，就像下面这样</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UIEdgeInsets padding = UIEdgeInsetsMake(10, 10, 10, 10);&#10;&#10;[view1 mas_makeConstraints:^(MASConstraintMaker *make) &#123;&#10;    make.top.equalTo(superview.mas_top).with.offset(padding.top); //with is an optional semantic filler&#10;    make.left.equalTo(superview.mas_left).with.offset(padding.left);&#10;    make.bottom.equalTo(superview.mas_bottom).with.offset(-padding.bottom);&#10;    make.right.equalTo(superview.mas_right).with.offset(-padding.right);&#10;&#125;];</span><br></pre></td></tr></table></figure>
<p>其他语言比如 Lua， 实现链式语法很容易。但在 Objective-C 中，如何实现链式语法呢？<br>
          <div class="post-more-link text-center">
            <a class="btn" href="/2015/01/02/how-to-implement-chained-in-objective-c-syntax/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/12/29/new-labels-data-concept-map/" itemprop="url">
                  新版标签、数据概念图
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2014-12-29T06:26:00+08:00" content="Dec 29 2014">
              Dec 29 2014
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/创业/" itemprop="url" rel="index">
                    <span itemprop="name">创业</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2014/12/29/new-labels-data-concept-map/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2014/12/29/new-labels-data-concept-map/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>《心城》1.3.0版本目前可以在AppStore<a href="https://itunes.apple.com/cn/app/xin-cheng/id923226261?l=zh&amp;mt=8" target="_blank" rel="external">下载</a>。</p>
<p>迭代的这几个版本，还没有正式迈入到我们设想的功能点。</p>
<p>在下面的1.4.0版本中，我们俩决定按照之前设想的，加入标签系统，这套系统会成为组织数据的一个核心，今天上午我自己出了个概念图，不过当务之急要将功能、流程走通。</p>
<p><img src="http://childhoodgamedev.qiniudn.com/xincheng_2.png" alt=""></p>
<p><img src="http://childhoodgamedev.qiniudn.com/xincheng_1.png" alt=""></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/12/26/resolving-pod-search-the-warehouse-below-the-github-repository-version-of-method/" itemprop="url">
                  解决pod search出来的仓库版本低于github仓库版本的方法
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2014-12-26T02:19:00+08:00" content="Dec 26 2014">
              Dec 26 2014
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/ios/" itemprop="url" rel="index">
                    <span itemprop="name">ios</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2014/12/26/resolving-pod-search-the-warehouse-below-the-github-repository-version-of-method/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2014/12/26/resolving-pod-search-the-warehouse-below-the-github-repository-version-of-method/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="问题描述">问题描述</h1><p>我们在用 Cocoapods 做第三方开源库管理的时候，有时候发现</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ pod search XXX</span><br></pre></td></tr></table></figure>
<p>版本低于github上仓库的最新release版本 （注：XXX为仓库名称）</p>
<h1 id="解决方法–&gt;升级Cocoapods版本">解决方法–&gt;升级Cocoapods版本</h1><p>查看当前系统Cocoapods版本命令：<code>pod --version</code></p>
<h2 id="升级方法">升级方法</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ sudo gem update --system</span><br><span class="line">$ gem sources --remove https://rubygems.org/ </span><br><span class="line">$ gem sources <span class="operator">-a</span> http://ruby.taobao.org/ </span><br><span class="line">$ sudo gem install cocoapods</span><br><span class="line">$ pod setup</span><br></pre></td></tr></table></figure>
<p>其中<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ gem sources --remove https://rubygems.org/ </span><br><span class="line">$ gem sources <span class="operator">-a</span> http://ruby.taobao.org/</span><br></pre></td></tr></table></figure></p>
<p>这两句话可以省略，但我们在天朝，还是加上的好。国内网络原因（你懂的），如果使用原来的<code>https://rubygems.org/</code>，那么在<code>sudo gem install cocoapods</code>的时候，存放在 Amazon S3 上面的资源文件间歇性连接失败。</p>
<p>升级结束后再次<code>pod --version</code>，会发现 Cocoapods 版本号高于之前的版本，升级成功了。</p>
<p>再次<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ pod search XXX</span><br></pre></td></tr></table></figure></p>
<p>OK，github仓库的最新版已经有了。</p>
<ul>
<li>原文链接：<a href="https://github.com/dabing1022/Blog/issues/3" target="_blank" rel="external">https://github.com/dabing1022/Blog/issues/3</a></li>
<li>问题经过：<a href="https://github.com/HeshamMegid/HMSegmentedControl/issues/77" target="_blank" rel="external">https://github.com/HeshamMegid/HMSegmentedControl/issues/77</a></li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/12/01/ios-performselector-may-cause-a-leak-because-its-selector-is-unknown-warning-cause-and-its-solution/" itemprop="url">
                  ios之"performSelector may cause a leak because its selector is unknown"警告原因及其解决办法
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2014-12-01T08:36:00+08:00" content="Dec 1 2014">
              Dec 1 2014
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/ios/" itemprop="url" rel="index">
                    <span itemprop="name">ios</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2014/12/01/ios-performselector-may-cause-a-leak-because-its-selector-is-unknown-warning-cause-and-its-solution/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2014/12/01/ios-performselector-may-cause-a-leak-because-its-selector-is-unknown-warning-cause-and-its-solution/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="问题描述">问题描述</h2><p>项目中使用到了从字符串创建选择器，编译时发现警告：”performSelector may cause a leak because its selector is unknown”（因为performSelector的选择器未知可能会引起泄漏），为什么在ARC模式下会出现这个警告？</p>
<p>经过搜索后，在Stackoverflow上发现了一个令人满意的答案。见<a href="http://stackoverflow.com/questions/7017281/performselector-may-cause-a-leak-because-its-selector-is-unknown" target="_blank" rel="external">http://stackoverflow.com/questions/7017281/performselector-may-cause-a-leak-because-its-selector-is-unknown</a>。</p>
<h2 id="原因">原因</h2><p>在ARC模式下，运行时需要知道如何处理你正在调用的方法的返回值。这个返回值可以是任意值，如<code>void</code>,<code>int</code>,<code>char</code>,<code>NSString</code>,<code>id</code>等等。ARC通过头文件的函数定义来得到这些信息。所以平时我们用到的静态选择器就不会出现这个警告。因为在编译期间，这些信息都已经确定。</p>
<p>如：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">...&#10;[someController performSelector:@selector(someMethod)];&#10;...&#10;- (void)someMethod&#10;&#123;&#10;  //bla bla...&#10;&#125;</span><br></pre></td></tr></table></figure>
<p>而使用<code>[someController performSelector: NSSelectorFromString(@&quot;someMethod&quot;)];</code>时ARC并不知道该方法的返回值是什么，以及该如何处理？该忽略？还是标记为<code>ns_returns_retained</code>还是<code>ns_returns_autoreleased</code>?</p>
<h2 id="解决办法">解决办法</h2><h3 id="1-使用函数指针方式">1.使用函数指针方式</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SEL selector = NSSelectorFromString(@&#34;someMethod&#34;);&#10;IMP imp = [_controller methodForSelector:selector];&#10;void (*func)(id, SEL) = (void *)imp;&#10;func(_controller, selector);</span><br></pre></td></tr></table></figure>
<p>当有额外参数时，如</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SEL selector = NSSelectorFromString(@&#34;processRegion:ofView:&#34;);&#10;IMP imp = [_controller methodForSelector:selector];&#10;CGRect (*func)(id, SEL, CGRect, UIView *) = (void *)imp;&#10;CGRect result = func(_controller, selector, someRect, someView);</span><br></pre></td></tr></table></figure>
<h3 id="2-使用宏忽略警告">2.使用宏忽略警告</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#pragma clang diagnostic push&#10;#pragma clang diagnostic ignored &#34;-Warc-performSelector-leaks&#34;&#10;   [someController performSelector: NSSelectorFromString(@&#34;someMethod&#34;)]&#10;#pragma clang diagnostic pop</span><br></pre></td></tr></table></figure>
<p>通过使用<code>#pragma clang diagnostic push/pop</code>，你可以告诉Clang编译器仅仅为某一特定部分的代码来忽视特定警告。</p>
<p>如果需要忽视的警告有多处，可以定义一个宏</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#define SuppressPerformSelectorLeakWarning(Stuff) \&#10;    do &#123; \&#10;        _Pragma(&#34;clang diagnostic push&#34;) \&#10;        _Pragma(&#34;clang diagnostic ignored \&#34;-Warc-performSelector-leaks\&#34;&#34;) \&#10;        Stuff; \&#10;        _Pragma(&#34;clang diagnostic pop&#34;) \&#10;    &#125; while (0)</span><br></pre></td></tr></table></figure>
<p>在产生警告也就是<code>performSelector</code>的地方用使用该宏，如</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SuppressPerformSelectorLeakWarning(&#10;    [_target performSelector:_action withObject:self]&#10;);</span><br></pre></td></tr></table></figure>
<p>如果需要<code>performSelector</code>返回值的话，</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id result;&#10;SuppressPerformSelectorLeakWarning(&#10;    result = [_target performSelector:_action withObject:self]&#10;);</span><br></pre></td></tr></table></figure>
<h3 id="3-使用afterDelay">3.使用afterDelay</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[self performSelector:aSelector withObject:nil afterDelay:0.0];</span><br></pre></td></tr></table></figure>
<p>如果在接受范围内，允许在下一个runloop执行，可以这么做。xCode5没问题，但据反映，xCode6的话这个不能消除警告。</p>
<p>原文链接：<a href="https://github.com/dabing1022/Blog/issues/2" target="_blank" rel="external">https://github.com/dabing1022/Blog/issues/2</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/11/08/walking-in-the-dark/" itemprop="url">
                  行走在黑暗中
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2014-11-08T06:29:00+08:00" content="Nov 8 2014">
              Nov 8 2014
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/创业/" itemprop="url" rel="index">
                    <span itemprop="name">创业</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2014/11/08/walking-in-the-dark/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2014/11/08/walking-in-the-dark/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>2014年11月08号，心城v1.1.0通过了苹果的审核。如果阅读过前面<a href="http://childhood.logdown.com/posts/238638/110-today-submitted-for-review" target="_blank" rel="external">心城1.1.0今天提交审核了</a>的朋友们会发现，时间俨然过了2周多。期间发生了什么事情？正常的Waiting For Review进入InReview大概1周差不多，这次怎么两周多了？</p>
<p>被拒了一次。</p>
<p>来看下被拒的原因吧，希望后面的朋友别和我一样。</p>
<h1 id="1-问题描述">1.问题描述</h1><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">Reasons</span><br><span class="line">2.23: Apps must follow the iOS Data Storage Guidelines or they will be rejected</span><br><span class="line">3.3: Apps with names, descriptions, screenshots, or previews not relevant to the content and functionality of the App will be rejected</span><br><span class="line">----- 2.23 -----</span><br><span class="line"></span><br><span class="line">We found that your app does not follow the iOS Data Storage Guidelines, which is required per the App Store Review Guidelines.</span><br><span class="line"></span><br><span class="line">In particular, we found that on launch and/or content download, your app stores 2.04MB. To check how much data your app is storing:</span><br><span class="line"></span><br><span class="line">- Install and launch your app</span><br><span class="line">- Go to Settings &gt; iCloud &gt; Storage &amp; Backup &gt; Manage Storage</span><br><span class="line">- If necessary, tap "Show all apps"</span><br><span class="line">- Check your app's storage</span><br><span class="line"></span><br><span class="line">The iOS Data Storage Guidelines indicate that only content that the user creates using your app, e.g., documents, new files, edits, etc., should be backed up by iCloud.</span><br><span class="line"></span><br><span class="line">Temporary files used by your app should only be stored in the /tmp directory; please remember to delete the files stored in this location when the user exits the app.</span><br><span class="line"></span><br><span class="line">Data that can be recreated but must persist for proper functioning of your app - or because customers expect it to be available for offline use - should be marked with the "do not back up" attribute. For NSURL objects, add the NSURLIsExcludedFromBackupKey attribute to prevent the corresponding file from being backed up. For CFURLRef objects, use the corresponding kCFURLIsExcludedFromBackupKey attribute.</span><br><span class="line"></span><br><span class="line">For more information, please see Technical Q&amp;A 1719: How do I prevent files from being backed up to iCloud and iTunes?.</span><br><span class="line"></span><br><span class="line">It is necessary to revise your app to meet the requirements of the iOS Data Storage Guidelines.</span><br><span class="line"></span><br><span class="line">----- 3.3 -----</span><br><span class="line"></span><br><span class="line">In addition, your marketing screenshots do not sufficiently reflect the app in use, which does not give the user an accurate understanding of what the app does, as required by the App Store Review Guidelines.</span><br><span class="line"></span><br><span class="line">We’ve attached the relevant screenshot(s) for your reference.</span><br><span class="line"></span><br><span class="line">It would be appropriate to revise your screenshots to demonstrate the app functionality in use.</span><br><span class="line"></span><br><span class="line">If your iTunes Connect Application State is Rejected, a new binary will be required. Make the desired metadata changes when you upload the new binary.</span><br><span class="line"></span><br><span class="line">For discrete code-level questions, you may wish to consult with Apple Developer Technical Support. When the DTS engineer follows up with you, please be ready to provide:</span><br><span class="line"></span><br><span class="line">- complete details of your rejection issue(s)</span><br><span class="line">- screenshots</span><br><span class="line">- steps to reproduce the issue(s)</span><br><span class="line">- symbolicated crash logs - if your issue results in a crash log</span><br></pre></td></tr></table></figure>
<p>一共两个原因。<br>分别对应苹果审核规则的2.23和3.3规则。</p>
<h1 id="2-先说3-3_元数据问题">2.先说3.3 元数据问题</h1><p>截图不够丰富，表达不了应用的功能，增加了3张图片解决问题。</p>
<h1 id="3-再谈2-23_数据存储问题">3.再谈2.23 数据存储问题</h1><p>心城将用户拍照以及头像设置的图片以及用户的录音文件都保存在了沙箱Documents文件夹，MagicalRecord用的数据库文件默认存放在了<code>Library/Application Support</code>目录下。</p>
<p>我举个例子来说明：</p>
<h2 id=""><img src="http://childhoodgamedev.qiniudn.com/xincheng_QQ20141108-1.png" alt=""></h2><p>Documents下的文件是会被 iCloud 自动备份的，苹果的测试人员发现，他们拍了一些照片，录制一些音频，然后退出应用，同步iCloud发现数据有2.04M，很明显，照片和音频数据以及数据库文件（存放在Library下的ApplicationSupport下，同样会被iCloud自动同步）是造成这2.04M的罪魁祸首，所以被拒。</p>
<p>究其原因是我<em>存储文件的位置不对或者说是规则不对</em>造成的。为了避免被 iCloud 同步，需要对这些文件进行“不备份标记”。将文件夹标记为不备份，那么其子文件和子文件夹都不会被备份。这里还不敢对 Documents 标记不备份，那样“太过分了”，毕竟还有其他数据和文稿需要备份。对Documents下的不需要的文件夹进行标记即可。</p>
<p>和一个朋友交流中，他提到了他以前犯过的一个错误，他的应用在访问网络时，把一些图片存放在了 Documents 文件夹里面了，也是导致被拒，这些图片应该视情况放在tmp或者cache里面。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//沙盒Documents目录路径</span></span><br><span class="line"> <span class="preprocessor">#<span class="keyword">define</span> DOC_PATH ([NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) objectAtIndex:<span class="number">0</span>])</span></span><br><span class="line"><span class="comment">//沙盒Cache目录路径</span></span><br><span class="line"> <span class="preprocessor">#<span class="keyword">define</span> CACHE_PATH ([NSSearchPathForDirectoriesInDomains(NSCachesDirectory, NSUserDomainMask, YES) objectAtIndex:<span class="number">0</span>])</span></span><br><span class="line"><span class="comment">//沙盒Library目录路径</span></span><br><span class="line"> <span class="preprocessor">#<span class="keyword">define</span> LIB_PATH ([NSSearchPathForDirectoriesInDomains(NSLibraryDirectory, NSUserDomainMask, YES) objectAtIndex:<span class="number">0</span>])</span></span><br><span class="line"><span class="comment">//沙盒Temp目录路径</span></span><br><span class="line"> <span class="preprocessor">#<span class="keyword">define</span> TEMP_PATH (NSTemporaryDirectory())</span></span><br><span class="line"> <span class="comment">// app data directory name</span></span><br><span class="line"> <span class="preprocessor">#<span class="keyword">define</span> APP_DATA_PHOTOS_DIR_NAME     @<span class="string">"photos"</span></span></span><br><span class="line"> <span class="preprocessor">#<span class="keyword">define</span> APP_DATA_AUDIOS_DIR_NAME     @<span class="string">"audios"</span></span></span><br><span class="line"> <span class="preprocessor">#<span class="keyword">define</span> APP_DATA_AVATARS_DIR_NAME    @<span class="string">"avatars"</span></span></span><br><span class="line"></span><br><span class="line">-(BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions</span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">//.....</span></span><br><span class="line">  [self addSkipBackup];</span><br><span class="line">  <span class="comment">//.....</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">-(<span class="keyword">void</span>)addSkipBackup</span><br><span class="line">&#123;</span><br><span class="line">  NSString* photoDirPath = [DOC_PATH stringByAppendingPathComponent:APP_DATA_PHOTOS_DIR_NAME];</span><br><span class="line">  NSString* audioDirPath = [DOC_PATH stringByAppendingPathComponent:APP_DATA_AUDIOS_DIR_NAME];</span><br><span class="line">  NSString* avatarDirPath = [DOC_PATH stringByAppendingPathComponent:APP_DATA_AVATARS_DIR_NAME];</span><br><span class="line"></span><br><span class="line">  [self addSkipBackupAttributeToItemAtURL:[NSURL fileURLWithPath:photoDirPath]];</span><br><span class="line">  [self addSkipBackupAttributeToItemAtURL:[NSURL fileURLWithPath:audioDirPath]];</span><br><span class="line">  [self addSkipBackupAttributeToItemAtURL:[NSURL fileURLWithPath:avatarDirPath]];</span><br><span class="line">  [self addSkipBackupAttributeToItemAtURL:[NSURL fileURLWithPath:[NSPersistentStore MR_applicationStorageDirectory]]];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">-(BOOL)addSkipBackupAttributeToItemAtURL:(NSURL *)URL</span><br><span class="line">&#123;</span><br><span class="line">    assert([[NSFileManager defaultManager] fileExistsAtPath: [URL path]]);</span><br><span class="line"></span><br><span class="line">    NSError *error = nil;</span><br><span class="line">    BOOL success = [URL setResourceValue: [NSNumber numberWithBool: YES]</span><br><span class="line">                                  forKey: NSURLIsExcludedFromBackupKey error: &amp;error];</span><br><span class="line">    <span class="keyword">if</span>(!success)&#123;</span><br><span class="line">        NSLog(@<span class="string">"Error excluding %@ from backup %@"</span>, [URL lastPathComponent], error);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> success;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>修改之后，重新提交，漫长的WaitingForReview又重新开始。今天进入了InReview后顺利通过上架。</p>
<h1 id="4-杂说">4.杂说</h1><p>在等待的期间，v1.2.0也在另外的分支开发着。今天1.1.0上架后，v1.2.0 也做了提交。</p>
<p>v1.2.0的改动<br>1.崭新的UI界面；<br>2.增加密码锁保护隐私；<br>3.消除了5连拍时存在的闪退隐患。</p>
<p>襁褓中的心城，并不完美也并不强大，虽然收到了负面的反馈，但不妨碍我把TA坚持做下去做好的决心。</p>
<p>行走在黑暗中，也许某天，会看到光明。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/uploads/avatar.png"
               alt="ChildhoodAndy" />
          <p class="site-author-name" itemprop="name">ChildhoodAndy</p>
          <p class="site-description motion-element" itemprop="description">思维世界的发展，在某种意义上说，就是对惊奇的不断摆脱。</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">61</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">14</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">117</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="http://www.github.com/dabing1022" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://twitter.com/childhoodandy" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                  Twitter
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/1297984304" target="_blank" title="Weibo">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                  Weibo
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://stackoverflow.com/users/1986621" target="_blank" title="StackOverflow">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  StackOverflow
                </a>
              </span>
            
          
        </div>

        
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-inline">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              友链
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="http://zengrong.net/" title="曾嵘" target="_blank">曾嵘</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://post.justbilt.com/" title="justblit" target="_blank">justblit</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://yulingtianxia.com" title="玉令天下" target="_blank">玉令天下</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://mokai.github.io" title="mokai" target="_blank">mokai</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://theme-next.iissnan.com/" title="NexT-Help" target="_blank">NexT-Help</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://blog.ibireme.com/" title="ibireme" target="_blank">ibireme</a>
                </li>
              
            </ul>
          </div>
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2015 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">ChildhoodAndy</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.0.1"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"ChildhoodAndy"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
  






  
  
  

  

  

</body>
</html>
